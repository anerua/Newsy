{% extends "newsyapp/layout.html" %}
{% load static %}

{% block title %}
    Newsy! Home
{% endblock %}

{% block body %}

    <h1 class="display-4 fst-italic text-primary text-center">-Top Stories-</h1>
    <hr>

    <div class="p-4 p-md-5 mb-4 text-white rounded bg-dark">
        <div class="col-md-6 px-0">
            <h1 class="display-4 fst-italic">{{ top_story.title }}</h1>
            <p class="lead my-3 text-muted elapsed-time" data-time="{{ top_story.time }}"></p>
            {% if top_story.descendants %}
                <p class="lead my-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-square-text-fill" viewBox="0 0 16 16">
                        <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.5a1 1 0 0 0-.8.4l-1.9 2.533a1 1 0 0 1-1.6 0L5.3 12.4a1 1 0 0 0-.8-.4H2a2 2 0 0 1-2-2V2zm3.5 1a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 2.5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 2.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5z"/>
                    </svg> {{ top_story.descendants }}
                </p>
            {% else %}
                <p class="lead my-3">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-square-text-fill" viewBox="0 0 16 16">
                        <path d="M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.5a1 1 0 0 0-.8.4l-1.9 2.533a1 1 0 0 1-1.6 0L5.3 12.4a1 1 0 0 0-.8-.4H2a2 2 0 0 1-2-2V2zm3.5 1a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 2.5a.5.5 0 0 0 0 1h9a.5.5 0 0 0 0-1h-9zm0 2.5a.5.5 0 0 0 0 1h5a.5.5 0 0 0 0-1h-5z"/>
                    </svg> 0
                </p>
            {% endif %}
            <p class="lead my-3">Posted by {{ top_story.by }}.</p>
            <p class="lead mb-0"><a href="{% url 'story_detail' top_story.id %}" class="text-white fw-bold">Read</a></p>
        </div>
    </div>

    <div class="row mb-2">
        {% for story in top_stories %}
            <div class="col-md-6">
                <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                    <div class="col p-4 d-flex flex-column position-static">
                        <strong class="d-inline-block mb-2 text-primary">Story</strong>
                        <h3 class="mb-2">{{ story.title }}</h3>
                        <p class="mb-1 text-muted elapsed-time" data-time="{{ story.time }}"></p>
                        <p class="card-text mb-auto">
                            {% if story.descendants %}
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-square-text" viewBox="0 0 16 16">
                                    <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                    <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
                                </svg> {{ story.descendants }}
                                  
                            {% else %}
                                <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-chat-square-text" viewBox="0 0 16 16">
                                    <path d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1h12zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z"/>
                                    <path d="M3 3.5a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9a.5.5 0 0 1-.5-.5zM3 6a.5.5 0 0 1 .5-.5h9a.5.5 0 0 1 0 1h-9A.5.5 0 0 1 3 6zm0 2.5a.5.5 0 0 1 .5-.5h5a.5.5 0 0 1 0 1h-5a.5.5 0 0 1-.5-.5z"/>
                                </svg> 0
                            {% endif %}
                        </p>
                        <p class="card-text mb-auto">Posted by {{ story.by }}</p>
                        <a href="{% url 'story_detail' story.id %}" class="stretched-link">Read</a>
                    </div>
                </div>
            </div>
        {% empty %}
            <p>No top stories to display.</p>
        {% endfor %}

    </div>

    <hr>
    <h1 class="display-4 fst-italic text-success text-center">-Latest Jobs-</h1>
    <hr>

    <div class="p-4 p-md-5 mb-4 text-white rounded bg-dark">
        <div class="col-md-6 px-0">
            <h1 class="display-4 fst-italic">{{ top_job.title }}</h1>
            <p class="lead my-3 text-muted elapsed-time" data-time="{{ top_job.time }}"></p>
            <p class="lead my-3">Posted by {{ top_job.by }}.</p>
            <p class="lead mb-0"><a href="{% url 'job_detail' top_job.id %}" class="text-white fw-bold">Read</a></p>
        </div>
    </div>

    <div class="row mb-2">
        {% for job in top_jobs %}
            <div class="col-md-6">
                <div class="row g-0 border rounded overflow-hidden flex-md-row mb-4 shadow-sm h-md-250 position-relative">
                    <div class="col p-4 d-flex flex-column position-static">
                        <strong class="d-inline-block mb-2 text-success">Job</strong>
                        <h3 class="mb-2">{{ job.title }}</h3>
                        <p class="mb-1 text-muted elapsed-time" data-time="{{ job.time }}"></p>
                        <p class="card-text mb-auto">Posted by {{ job.by }}</p>
                        <a href="{% url 'job_detail' job.id %}" class="stretched-link">Read</a>
                    </div>
                </div>
            </div>
        {% empty %}
            <p>No top jobs to display.</p>
        {% endfor %}

    </div>

    <script src="{% static 'newsyapp/js/home.js' %}"></script>

{% endblock %}